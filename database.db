# bot/database.py
import sqlite3

# Buat / koneksi ke database
conn = sqlite3.connect('sqlite3.db')
cursor = conn.cursor()

# Membuat table jika belum ada
def create_table():
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS nft (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT,
            model TEXT,
            latar TEXT,
            simbol TEXT,
            owner TEXT,
            price TEXT,
            image_url TEXT,
            nft_link TEXT
        )
    ''')
    conn.commit()

# Menambahkan data NFT
def insert_nft(name, model, latar, simbol, owner, price, image_url, nft_link):
    cursor.execute('''
        INSERT INTO nft (name, model, latar, simbol, owner, price, image_url, nft_link)
        VALUES (?, ?, ?, ?, ?, ?, ?, ?)
    ''', (name, model, latar, simbol, owner, price, image_url, nft_link))
    conn.commit()

# Mengambil semua data NFT
def get_all_nfts():
    cursor.execute('SELECT * FROM nft')
    return cursor.fetchall()